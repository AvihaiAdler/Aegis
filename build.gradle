plugins {
  id 'java'
}

group = 'VroomVroom'
version = '0.0.3'
sourceCompatibility = '16'
targetCompatibility = '16'

compileJava.options.encoding = "UTF-8"
compileTestJava.options.encoding = "UTF-8"

repositories {
  mavenCentral()
}

dependencies {
  implementation 'org.javacord:javacord:3.4.0'
  implementation 'org.apache.logging.log4j:log4j-api:2.17.1'
  implementation 'org.apache.logging.log4j:log4j-core:2.17.1'
  implementation 'org.mongodb:mongodb-driver:3.12.10'
}

jar {
    manifest {
        duplicatesStrategy = 'include'
        attributes(
                'Main-Class': 'bot.Main'
        )
    }
    from (
        configurations.runtimeClasspath.collect { 
          it.isDirectory() ? it : zipTree(it) 
        }
    ) {
            exclude 'META-INF/MANIFEST.MF'
            exclude 'META-INF/*.SF'
            exclude 'META-INF/*.DSA'
            exclude 'META-INF/*.RSA'
    }
 }

